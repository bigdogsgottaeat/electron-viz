<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Electron Sloth - Receipt Manager</title>
    <link rel="stylesheet" type="text/css" href="assets/css/styles.css">
  </head>
  <body>
    <div style="width: 100%; height:100%;">
     <div id="toolbar">
       <div class="layout">
          <span class="tool">
              <button class="button" onclick="requestSelectFile()">
                 <img src="assets/icons/open-folder-with-document.svg" style="padding-top:8px; width:18px; height:18px; text-align:center;" alt="Home" />
              </button>
               <button class="button" onclick="requestSelectFile()">
                 <img src="assets/icons/save-icon.svg" style="padding-top:8px; width:18px; height:18px; text-align:center;" alt="Home" />
              </button>
              <button class="button" onclick="addReceipt()">
                 <img src="assets/icons/add.svg" style="padding-top:8px; width:17px; height:17px; text-align:center;" alt="Home" />
               </button>
              <div style="position: absolute; right:0px; top:0px;">
              <button class="button" onclick="requestSelectFile()">
                 <img src="assets/icons/info.svg" style="padding-top:8px; width:17px; height:17px; text-align:center;" alt="Home" />
              </button>
           </span>
        </div>
      </div>
      <div class="mainbox">
      </div>  
      <div id="expenseDialog" class="modal">
          <div class="modal-content">
            <div class="modal-header">
              <span class="close">&times;</span>
              <h2>Add/Update Expense</h2>
            </div>  
              <div class="modal-body">
                <div style="width:70%; display:flex; ">
                  <label class="modal-label" for="title">Title</label>
                  <input class="modal-entry" type="text" id="title" name="title" placeholder="title..." required/>
                  <label class="modal-label" for="credit-card">Credit Card</label>
                  <input class="modal-entry" type="text" id="credit-card" name="credit-card" placeholder="card...">
                  <label class="modal-label" for="amount">Transaction</label>
                  <div style="display: block; width:160px;">
                    <input class="modal-entry"  type="text" id="amount" name="amount" placeholder="$..." style="width:100px">
                    <input class="modal-entry"  type="text" id="date" name="date" placeholder="date..." style="width:100px">
                    <button class="modal-small-btn">
                      <img src="assets/icons/info.svg" style="padding-top:4px; width:10px; height:10px; text-align:center;" alt="Home" />
                    </button>
                  </div>
                  <textarea class="modal-entry" id="reason" name="reason" placeholder="reason..." style="height:40px"></textarea>
                  <button class='modal-btn' id="add">Add</button>     
                  <button class='modal-cancel-btn'>Cancel</button>   
              </div>  
              <div style="border:2px; background: gray; position:relative; width:30%; height:100%">
                  <img src="assets/icons/info.svg" alt="Home" />
              </div>
            </div>
         </div>
      </div> 
    </div>
  </body>
  <script>
    
    const ipcRenderer = require('./assets/index.js').ipcRenderer

    var modal = document.getElementById('expenseDialog');

   // Get the <span> element that closes the modal
    var spanClose = document.getElementsByClassName("close")[0];

    spanClose.onclick = function() 
    {
        
      modal.style.display = "none";
    
    }

    var cancelButton = document.getElementsByClassName("modal-cancel-btn")[0];

    cancelButton.onclick = function() 
    {
        
      modal.style.display = "none";
    
    }

    var addButton = document.getElementById("add")

    addButton.onclick = function() 
    {
        
      modal.style.display = "none";

      var mainBox = document.getElementsByClassName("mainbox")[0];

      mainBox.innerHTML += "<div class='card'><b>" +      
          document.getElementById("title").value + "</b></div>";
    
    }
  
    function requestSelectFile()
    {
        if (ipcRenderer != null) {
        
         ipcRenderer.send('select-file', 'select-file')

        }
  
    }

    // When the user clicks on <span> (x), close the modal
    function addReceipt()
    {
   
      modal.style.display = "block";
    
    }

</script>

</html>
